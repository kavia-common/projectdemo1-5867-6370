{"is_source_file": true, "format": "Python", "description": "This Python source file provides validation, serialization, and utility functions for device data management, including JSON schema validation, ObjectId conversion, and document serialization. It is part of a backend service.", "external_files": ["bson.ObjectId", "jsonschema.Draft7Validator", "jsonschema.FormatChecker", "jsonschema.ValidationError"], "external_methods": ["Draft7Validator.iter_errors", "FormatChecker.checks", "ObjectId"], "published": ["validate_device_payload", "to_object_id", "serialize_device"], "classes": [], "methods": [{"name": "Tuple[bool,Dict[str,str]] validate_device_payload(payload: Dict[str, Any], partial: bool = False)", "description": "Validates a device payload against the JSON schema, supporting partial validation for updates.", "scope": "", "scopeKind": ""}, {"name": "ObjectId to_object_id(id_str: str)", "description": "Converts a string to a BSON ObjectId, raising an error if invalid.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] serialize_device(doc: Dict[str, Any])", "description": "Serializes a MongoDB document into a JSON-friendly format, converting ObjectId to string and formatting datetime fields.", "scope": "", "scopeKind": ""}, {"name": "bool is_ipv4_format(value: str)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["Draft7Validator.iter_errors", "FormatChecker.checks", "ObjectId", "datetime.isoformat"], "search-terms": ["device validation", "jsonschema", "ObjectId conversion", "MongoDB document serialization", "IPv4 validation"], "state": 2, "file_id": 9, "knowledge_revision": 19, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEVICE_SCHEMA", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^DEVICE_SCHEMA: Dict[str, Any] = {$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable"}, {"_type": "tag", "name": "_format_checker", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^_format_checker = FormatChecker()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_ipv4_regex", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^_ipv4_regex = re.compile($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_validator", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^_validator = Draft7Validator(DEVICE_SCHEMA, format_checker=_format_checker)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "is_ipv4_format", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^def is_ipv4_format(value: str) -> bool:  # type: ignore[override]$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(value: str)"}, {"_type": "tag", "name": "serialize_device", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^def serialize_device(doc: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(doc: Dict[str, Any])"}, {"_type": "tag", "name": "to_object_id", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^def to_object_id(id_str: str) -> ObjectId:$/", "language": "Python", "typeref": "typename:ObjectId", "kind": "function", "signature": "(id_str: str)"}, {"_type": "tag", "name": "validate_device_payload", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/validation.py", "pattern": "/^def validate_device_payload(payload: Dict[str, Any], partial: bool = False) -> Tuple[bool, Dict[/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,str]]", "kind": "function", "signature": "(payload: Dict[str, Any], partial: bool = False)"}], "hash": "ef9fce87e0f5d1a8eb8debbbf82b1009", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/app/validation.py", "fields": [{"name": "Dict[str, Any] DEVICE_SCHEMA", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_format_checker = FormatChecker()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_ipv4_regex = re.compile(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_validator = Draft7Validator(DEVICE_SCHEMA, format_checker=_format_checker)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19": ""}]}