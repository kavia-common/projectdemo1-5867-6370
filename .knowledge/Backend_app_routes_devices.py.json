{"is_source_file": true, "format": "Python", "description": "This file defines REST API routes for device management including listing, creating, retrieving, updating, deleting, and pinging devices. It interacts with a MongoDB database and performs validation, serialization, and error handling.", "external_files": ["../db", "../validation", "../ping_util"], "external_methods": ["validate_device_payload", "serialize_device", "to_object_id", "ping_host"], "published": ["DevicesList", "DeviceDetail", "DevicePing"], "classes": [{"name": "DevicesList", "description": "Handles listing device collection and creating new devices."}, {"name": "DeviceDetail", "description": "Handles retrieval, updating, and deletion of a device by its ID."}, {"name": "DevicePing", "description": "Handles pinging a device by ID and updating its status accordingly."}], "methods": [{"name": "get(self)", "description": "Lists all devices with optional filtering by status and name.", "scope": "DevicesList", "scopeKind": "class"}, {"name": "post(self)", "description": "Creates a new device after validating payload.", "scope": "DevicesList", "scopeKind": "class"}, {"name": "get(self, item_id: str)", "description": "Retrieves a specific device by its ID.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "put(self, item_id: str)", "description": "Updates a device specified by its ID after validating payload.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "delete(self, item_id: str)", "description": "Deletes a specific device by its ID.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "post(self, item_id: str)", "description": "Pings the device by ID, updates its status and last_checked.", "scope": "DevicePing", "scopeKind": "class"}, {"name": "Database _get_db()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["validate_device_payload", "serialize_device", "to_object_id", "ping_host", "collection().find()", "collection().find_one()", "collection().insert_one()", "collection().update_one()", "collection().delete_one()"], "search-terms": ["devices route", "device CRUD API", "ping device", "MongoDB device collection", "device status update", "device validation functions", "device serialization", "device ID conversion"], "state": 2, "file_id": 11, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "DeviceDetail", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^class DeviceDetail(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DevicePing", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^class DevicePing(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DevicesList", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^class DevicesList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_get_db", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^def _get_db() -> Database:$/", "language": "Python", "typeref": "typename:Database", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def delete(self, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, item_id: str)", "scope": "DeviceDetail", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevicesList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def get(self, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, item_id: str)", "scope": "DeviceDetail", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevicesList", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def post(self, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, item_id: str)", "scope": "DevicePing", "scopeKind": "class"}, {"_type": "tag", "name": "put", "path": "/home/kavia/workspace/code-generation/projectdemo1-5867-6370/Backend/app/routes/devices.py", "pattern": "/^    def put(self, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, item_id: str)", "scope": "DeviceDetail", "scopeKind": "class"}], "hash": "cb9e0ad7cd6f79ae59c8616ccd969df1", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/app/routes/devices.py", "fields": [{"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"23": ""}]}