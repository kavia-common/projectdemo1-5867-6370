{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for managing devices, including listing, creating, retrieving, updating, deleting, and pinging devices. It uses Flask with Flask-Smorest, interacts with a MongoDB database, and includes validation and ping utilities.", "external_files": ["../db", "../validation", "../ping_util"], "external_methods": ["validate_device_payload", "serialize_device", "to_object_id", "ping_host"], "published": ["DevicesList", "DeviceDetail", "DevicePing"], "classes": [{"name": "DevicesList", "description": "Handles listing and creating devices via GET and POST methods."}, {"name": "DeviceDetail", "description": "Handles retrieving, updating, and deleting a specific device by ID."}, {"name": "DevicePing", "description": "Handles pinging a device by ID and updating its status and last_checked timestamp."}], "methods": [{"name": "_get_db", "description": "Retrieves the database instance, imported at runtime."}, {"name": "get", "description": "Lists all devices with optional filters for status and name."}, {"name": "post", "description": "Creates a new device after validating the payload."}, {"name": "get", "description": "Retrieves a device by its ID."}, {"name": "put", "description": "Updates a device by its ID with validated payload."}, {"name": "delete", "description": "Deletes a device by its ID."}, {"name": "post", "description": "Pings a device by ID and updates its status and last_checked."}], "calls": ["coll.find", "coll.insert_one", "coll.find_one", "coll.update_one", "coll.delete_one", "ping_host", "to_object_id", "serialize_device", "validate_device_payload"], "search-terms": ["device management", "device CRUD", "device ping", "MongoDB", "Flask REST API", "Device routes", "Device status update"], "state": 2, "file_id": 11, "knowledge_revision": 41, "git_revision": "d0d9931cf62b78316abcc66a541f682998a1ab1a", "revision_history": [{"23": ""}, {"32": "d0d9931cf62b78316abcc66a541f682998a1ab1a"}, {"41": "d0d9931cf62b78316abcc66a541f682998a1ab1a"}], "ctags": [], "filename": "Backend/app/routes/devices.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/projectdemo1-5867-6370.git:kavia-main"}